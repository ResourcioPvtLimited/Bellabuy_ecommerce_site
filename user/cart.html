<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Bag</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../assets/css/cart.css" />
    <link rel="stylesheet" href="../assets/css/main.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />
  </head>
  <body>
    <!-- Header Section -->
    <!-- <div class="shop-header">
    <a href="index.php" class="back-button">
      <i class="fas fa-arrow-left"></i>
    </a>
    <h1 class="page-title">My Bag</h1>
    <div style="width: 24px;"></div>
    <div class="header-icons">
      <a href="wishlist.html" class="wishlist-icon-container">
        <i class="fas fa-heart"></i>
        <span class="wishlist-count"><?= $wishCount ?></span>
      </a>
      <a href="cart.php" class="cart-icon-container">
        <i class="fas fa-shopping-bag"></i>
        <span class="cart-count"><?= $cartCount ?></span>
      </a>
    </div>
  </div> -->

    <div id="navbar"></div>

    <!-- Main Content Area -->
    <div class="main-content">
      <!-- Progress Indicator -->
      <!-- <div class="progress-indicator">
      <div class="progress-step">
        <div class="step-number"><i class="fa-solid fa-bag-shopping"></i></div>
        <div class="step-label"></div>
      </div>
      
      <div class="progress-line inactive"></div>
      <div class="progress-step">
        <div class="step-number inactive"><i class="fa-solid fa-check-circle"></i></div>
        <div class="step-label inactive"></div>
      </div>
    </div> -->

      <!-- Cart Container -->
      <div class="cart-container">
        <!-- <div class="select-all">
        <input type="checkbox" id="selectAll" onchange="toggleSelectAll()">
        <label for="selectAll">Select all items</label>
        <span class="edit">Edit</span>
      </div> -->

        <!-- Product Cards -->

        <!-- <div class="cart-card" data-price="<?= $item['price'] ?>" data-original-price="<?= $item['max_price'] ?>" data-id="<?= $item['id'] ?>">
        <div class="product-image-main">
          <img src="prod/<?= $item['img1'] ?>" alt="<?= $item['name'] ?>" class="product-image">
        </div>
        <div class="card-info">
          <span class="product-badge new">NEW</span>
          <h3 class="product-title"><?= $item['name'] ?></h3>
          <p class="product-seller">Brand: <?= $item['brand_name'] ?></p>
          <div class="product-options">
            <select class="size" onchange="updateCartSummary()">
              <?php foreach($sizes as $size): ?>
              <option value="<?= trim($size) ?>">Size: <?= trim($size) ?></option>
              <?php endforeach; ?>
            </select>
            <select class="color" onchange="updateCartSummary()">
              <?php foreach($colors as $color): ?>
              <option value="<?= trim($color) ?>"><?= trim($color) ?></option>
              <?php endforeach; ?>
            </select>
          </div>
          <div class="product-price-container">
            <div class="product-price">BDT<?= $item['price'] ?> <span class="original-price">BDT<?= $item['max_price'] ?></span></div>
            <div class="quantity-control">
              <button class="quantity-btn minus" onclick="adjustQuantity(this, -1)">-</button>
              <span class="quantity-value"><?= $uid > 0 ? $item['qty'] : 1 ?></span>
              <button class="quantity-btn plus" onclick="adjustQuantity(this, 1)">+</button>
            </div>
            <input type="checkbox" class="product-select" onchange="updateCartSummary()" checked>
          </div>
        </div>
        <div class="card-actions">
          <i class="fas fa-trash" onclick="removeProduct(this, <?= $item['id'] ?>)"></i>
        </div>
      </div> -->

        <div class="empty-cart">
          <img src="../assets/images/empty_bag.png" alt="">
          <h3>Your bag is empty</h3>
          <p>Looks like you haven't added anything to your bag yet</p>
          <button
            class="shop-now-btn"
            onclick="window.location.href='checkout.html'"
          >
            Shop Now
          </button>
        </div>
      </div>

      <!-- Voucher Section -->
      <!-- <div class="voucher-section">
      <div class="voucher-header">
        <i class="fas fa-tag"></i>
        <h3>Apply Voucher Code</h3>
      </div>
      <div class="voucher-input-group">
        <input type="text" class="voucher-input" id="voucherCode" placeholder="Enter voucher code">
        <button class="voucher-btn" onclick="applyVoucher()">Apply</button>
      </div>
      <div id="voucherMessage" style="margin-top: 10px; font-size: 12px; color: var(--success-color); display: none;"></div>
    </div> -->

      <!-- Order Summary -->
      <!-- <div class="order-summary">
      <h3 class="summary-header">Order Summary</h3>
      <div class="summary-row">
        <span>Subtotal (<span id="itemCount">0</span> items)</span>
        <span class="summary-value" id="subtotal">BDT0</span>
      </div>
      <div class="summary-row">
        <span>Delivery Fee</span>
        <span class="summary-value" id="deliveryFee">BDT0</span>
      </div>
      <div class="summary-row">
        <span>Discount</span>
        <span class="summary-value" id="discount">-BDT0</span>
      </div>
      <div class="summary-row">
        <span>Voucher Discount</span>
        <span class="summary-value" id="voucherDiscount">-BDT0</span>
      </div>
      <div class="summary-row total">
        <span>Total</span>
        <span class="summary-value total" id="total">BDT0</span>
      </div>
    </div> -->

      <!-- Featured Products Section -->
      <div class="featured-slider-section">
        <h2 class="featured-title">Continue Shopping For</h2>
        <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            <!-- Product Card 1 -->
            <div class="swiper-slide">
              <div class="product-card" data-id="1">
                <div class="product-image">
                  <img src="../prod/img1.png" alt="Modern Sneakers" />
                  <div class="label-launch">Just Launched</div>
                  <div
                    class="wishlist-icon wish-btn"
                    data-id="1"
                    data-type="wishlist"
                    role="button"
                    aria-label="Add to wishlist"
                  >
                    ♡
                  </div>
                  <div class="rating"><i class="fa fa-star"></i> 4.5</div>
                </div>
                <div class="product-info">
                  <div class="product-name">Stylish Jacket</div>
                  <span class="product-price">BDT 89.99</span>
                  <div>
                    <span class="product-original">BDT 120.00</span>
                    <span class="product-discount">25% OFF</span>
                  </div>
                  <div class="brand">
                    <div class="product-brand">
                      <img src="../prod/shop.png" alt="Brand Name" />
                    </div>
                    <div class="add-to-cart">
                      <button
                        class="cart-btn"
                        data-id="1"
                        data-type="cart"
                        aria-pressed="false"
                      >
                        Add
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Product Card 2 -->
            <div class="swiper-slide">
              <div class="product-card" data-id="2">
                <div class="product-image">
                  <img src="../prod/img1.png" alt="Modern Sneakers" />
                  <div class="label-launch">Just Launched</div>
                  <div
                    class="wishlist-icon wish-btn"
                    data-id="2"
                    data-type="wishlist"
                    role="button"
                    aria-label="Add to wishlist"
                  >
                    ♡
                  </div>
                  <div class="rating"><i class="fa fa-star"></i> 4.8</div>
                </div>
                <div class="product-info">
                  <div class="product-name">Modern Sneakers</div>
                  <span class="product-price">BDT 59.99</span>
                  <div>
                    <span class="product-original">BDT 80.00</span>
                    <span class="product-discount">25% OFF</span>
                  </div>
                  <div class="brand">
                    <div class="product-brand">
                      <img src="../prod/shop.png" alt="Brand Name" />
                    </div>
                    <div class="add-to-cart">
                      <button
                        class="cart-btn"
                        data-id="2"
                        data-type="cart"
                        aria-pressed="false"
                      >
                        Add
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Product Card 3 -->
            <div class="swiper-slide">
              <div class="product-card" data-id="3">
                <div class="product-image">
                  <img src="../prod/img1.png" alt="Modern Sneakers" />
                  <div class="label-launch">Just Launched</div>
                  <div
                    class="wishlist-icon wish-btn"
                    data-id="3"
                    data-type="wishlist"
                    role="button"
                    aria-label="Add to wishlist"
                  >
                    ♡
                  </div>
                  <div class="rating"><i class="fa fa-star"></i> 4.8</div>
                </div>
                <div class="product-info">
                  <div class="product-name">Modern Sneakers</div>
                  <span class="product-price">BDT 59.99</span>
                  <div>
                    <span class="product-original">BDT 80.00</span>
                    <span class="product-discount">25% OFF</span>
                  </div>
                  <div class="brand">
                    <div class="product-brand">
                      <img src="../prod/shop.png" alt="Brand Name" />
                    </div>
                    <div class="add-to-cart">
                      <button
                        class="cart-btn"
                        data-id="3"
                        data-type="cart"
                        aria-pressed="false"
                      >
                        Add
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Product Card 4 -->
            <div class="swiper-slide">
              <div class="product-card" data-id="4">
                <div class="product-image">
                  <img src="../prod/img1.png" alt="Modern Sneakers" />
                  <div class="label-launch">Just Launched</div>
                  <div
                    class="wishlist-icon wish-btn"
                    data-id="4"
                    data-type="wishlist"
                    role="button"
                    aria-label="Add to wishlist"
                  >
                    ♡
                  </div>
                  <div class="rating"><i class="fa fa-star"></i> 4.8</div>
                </div>
                <div class="product-info">
                  <div class="product-name">Modern Sneakers</div>
                  <span class="product-price">BDT 59.99</span>
                  <div>
                    <span class="product-original">BDT 80.00</span>
                    <span class="product-discount">25% OFF</span>
                  </div>
                  <div class="brand">
                    <div class="product-brand">
                      <img src="../prod/shop.png" alt="Brand Name" />
                    </div>
                    <div class="add-to-cart">
                      <button
                        class="cart-btn"
                        data-id="4"
                        data-type="cart"
                        aria-pressed="false"
                      >
                        Add
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Product Card 5 -->
            <div class="swiper-slide">
              <div class="product-card" data-id="5">
                <div class="product-image">
                  <img src="../prod/img1.png" alt="Modern Sneakers" />
                  <div class="label-launch">Just Launched</div>
                  <div
                    class="wishlist-icon wish-btn"
                    data-id="5"
                    data-type="wishlist"
                    role="button"
                    aria-label="Add to wishlist"
                  >
                    ♡
                  </div>
                  <div class="rating"><i class="fa fa-star"></i> 4.8</div>
                </div>
                <div class="product-info">
                  <div class="product-name">Modern Sneakers</div>
                  <span class="product-price">BDT 59.99</span>
                  <div>
                    <span class="product-original">BDT 80.00</span>
                    <span class="product-discount">25% OFF</span>
                  </div>
                  <div class="brand">
                    <div class="product-brand">
                      <img src="../prod/shop.png" alt="Brand Name" />
                    </div>
                    <div class="add-to-cart">
                      <button
                        class="cart-btn"
                        data-id="5"
                        data-type="cart"
                        aria-pressed="false"
                      >
                        Add
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Product Card 6 -->
            <div class="swiper-slide">
              <div class="product-card" data-id="6">
                <div class="product-image">
                  <img src="../prod/img1.png" alt="Modern Sneakers" />
                  <div class="label-launch">Just Launched</div>
                  <div
                    class="wishlist-icon wish-btn"
                    data-id="6"
                    data-type="wishlist"
                    role="button"
                    aria-label="Add to wishlist"
                  >
                    ♡
                  </div>
                  <div class="rating"><i class="fa fa-star"></i> 4.8</div>
                </div>
                <div class="product-info">
                  <div class="product-name">Modern Sneakers</div>
                  <span class="product-price">BDT 59.99</span>
                  <div>
                    <span class="product-original">BDT 80.00</span>
                    <span class="product-discount">25% OFF</span>
                  </div>
                  <div class="brand">
                    <div class="product-brand">
                      <img src="../prod/shop.png" alt="Brand Name" />
                    </div>
                    <div class="add-to-cart">
                      <button
                        class="cart-btn"
                        data-id="6"
                        data-type="cart"
                        aria-pressed="false"
                      >
                        Add
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    <!-- Action Buttons -->
    <!-- <div class="action-buttons">
    <div class="selection-summary">
      <span><span class="selected-count">0</span> item(s) selected</span>
      <span>Total: <span class="total-price">BDT0</span></span>
    </div>
    <button class="place-order-btn" onclick="placeOrder()">Place Order</button>
  </div> -->

    <div id="footer"></div>
</div>

    <script>
      function loadHTML(id, file) {
        fetch(file)
          .then((res) => res.text())
          .then((data) => {
            const container = document.getElementById(id);
            container.innerHTML = data;

            // Execute scripts inside the included HTML
            const scripts = container.querySelectorAll("script");
            scripts.forEach((oldScript) => {
              const newScript = document.createElement("script");
              if (oldScript.src) {
                newScript.src = oldScript.src;
              } else {
                newScript.textContent = oldScript.textContent;
              }
              document.body.appendChild(newScript);
            });
          });
      }

      loadHTML("navbar", "navbar.html");
      loadHTML("footer", "footer.html");
    </script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
      const swiper = new Swiper(".mySwiper", {
        slidesPerView: 1.2,
        spaceBetween: 16,
        grabCursor: true,
        breakpoints: {
          640: {
            slidesPerView: 2.2,
          },
          768: {
            slidesPerView: 3,
          },
          1024: {
            slidesPerView: 4,
          },
          1440: {
            slidesPerView: 5,
          },
        },
      });
    </script>
  </body>
</html>
