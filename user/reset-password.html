<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Reset Password | BellaBuy</title>
  <link rel="stylesheet" href="../assets/css/reset.css" />
  <link rel="stylesheet" href="../assets/css/main.css">

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <script>
    // Function to include HTML content
    function includeHTML() {
      document.querySelectorAll('[data-include]').forEach(async el => {
        const file = el.getAttribute("data-include");
        const res = await fetch(file);
        const html = await res.text();
        el.innerHTML = html;
      });
    }

    window.addEventListener('DOMContentLoaded', includeHTML);
    document.getElementById('loginBtn').onclick = function(e) {
  e.preventDefault(); // Prevent form submission
  window.location.href = 'otp.html'; // Redirect to otp.html
};
  </script>
</head>
<body>
<div data-include="navbar.html"></div>
<script>
async function includeHTML() {
  const elements = document.querySelectorAll('[data-include]');
  for (const el of elements) {
    const file = el.getAttribute("data-include");
    const res = await fetch(file);
    const html = await res.text();
    el.innerHTML = html;
  }
  // Now load navbar.js and run setupNavbarDropdown
  const script = document.createElement('script');
  script.src = '../assets/js/navbar.js';
  script.onload = function() {
    if (typeof setupNavbarDropdown === 'function') setupNavbarDropdown();
  };
  document.body.appendChild(script);
}

window.addEventListener('DOMContentLoaded', includeHTML);
</script>
<div class="container">
  <div class="reset-container">
    <div class="reset-inner">
      <img src="../assets/images/forgot.png" alt="Reset Password" class="reset-img" />
    
      <div>
        <label class="reset-label">Old PassWord</label>
        <div class="reset-input-row">
          <img src="../../img/lock.svg" />
          <input id="oldPassword" type="password" placeholder="Enter your Old Password" />
          <img id="toggleOld" src="../../img/eye-disable.svg" class="toggle-eye"
            onclick="toggleVisibility('oldPassword', 'toggleOld')" />
        </div>
      </div>

      <div>
        <label class="reset-label">New Password</label>
        <div class="reset-input-row">
          <img src="../../img/lock.svg" />
          <input id="newPassword" type="password" placeholder="Enter your New Password" />
          <img id="toggleNew" src="../../img/eye-disable.svg" class="toggle-eye"
            onclick="toggleVisibility('newPassword', 'toggleNew')" />
        </div>
      </div>

      <div>
        <label class="reset-label">Re-type Password</label>
        <div class="reset-input-row">
          <img src="../../img/lock.svg" />
          <input id="retypePassword" type="password" placeholder="Re-type New Password" />
          <img id="toggleRetype" src="../../img/eye-disable.svg" class="toggle-eye"
            onclick="toggleVisibility('retypePassword', 'toggleRetype')" />
        </div>
      </div>
      <button onclick="showModal()" class="reset-btn">
        Re-set Password
      </button>
    </div>
  </div>
</div>
<div id="successModal" class="hidden">
  <div class="success-modal-content">
    <div class="success-modal-img-wrap">
      <div class="success-modal-img-bg">
        <img src="../../img//success.svg" alt="Success" class="success-modal-img"/>
      </div>
    </div>
    <h2 class="success-modal-title">Password Reset Successfull</h2>
    <button onclick="closeModal()" class="success-modal-btn">Go Back</button>
  </div>
</div>


  <script>
    function toggleVisibility(inputId, iconId) {
      const input = document.getElementById(inputId);
      const icon = document.getElementById(iconId);
      const eyeOpen = "https://img.icons8.com/ios-glyphs/30/000000/visible--v1.png";
      const eyeClosed = "../../img/eye-disable.svg";

      if (input.type === "password") {
        input.type = "text";
        icon.src = eyeOpen;
      } else {
        input.type = "password";
        icon.src = eyeClosed;
      }
    }


    function showModal() {
    document.getElementById('successModal').classList.remove('hidden');
  }

  function closeModal() {
    document.getElementById('successModal').classList.add('hidden');
  }
  </script>
</body>
</html>
